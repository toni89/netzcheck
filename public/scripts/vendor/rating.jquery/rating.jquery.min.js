(function($,window,document,undefined){"use strict";var pluginName="rating",defaults={showLabel:true,messages:["What did you think?","It was awful","It leaves something to be desired","Didn't surprise me","I liked it","It's the best!"],validationMessage:"Please rate before you continue",inline:false,icon:"fa-star",color:"#b08bd7",colorHover:"#7d40bc",size:"20px"};function Plugin(element,options){this.element=element;this.settings=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this.init()}Plugin.prototype={init:function(){var $el=$(this.element),self=this,$container,star,$message,i,$starsContainer;this.value=$el.val()?parseInt($el.val(),10):0;$el.on("invalid",function(e){e.preventDefault();$container.tipi("text",self.settings.validationMessage).tipi("show")});function highlightStars(current){var i;for(i=1;i<=5;i++){if(i<=current){$container.find("i[rating-value="+i+"]").css("background-color",self.settings.colorHover)}else{$container.find("i[rating-value="+i+"]").css("background-color",self.settings.color)}}if(self.settings.showLabel){$message.text(self.settings.messages[current])}}$container=$('<div class="rating-container" />').tipi();if(self.settings.inline){$container.css("display","inline-block")}$starsContainer=$('<div class="stars" />');for(i=1;i<=5;i++){star=$('<i rating-value="'+i+'" class="fa '+self.settings.icon+'" />');star.css("font-size",self.settings.size);$starsContainer.append(star)}$container.append($starsContainer);if(self.settings.showLabel){$message=$("<span />").text(self.settings.messages[0]);$container.append($message)}$container.find("i").mouseenter(function(){var val=parseInt($(this).attr("rating-value"),10);highlightStars(val)}).click(function(){var val=parseInt($(this).attr("rating-value"),10);self.value=val;$el.val(val).trigger("change");$container.tipi("hide")});$container.mouseleave(function(){highlightStars(self.value)});$el.after($container).hide();highlightStars(this.value);Plugin.prototype._$container=$container;return this},val:function(){return this.value},container:function(){return this._$container}};$.fn[pluginName]=function(options){var args=Array.prototype.slice.call(arguments),output;this.each(function(){var instance=$.data(this,"plugin_"+pluginName),method;if(!instance){$.data(this,"plugin_"+pluginName,new Plugin(this,options))}else{method=args.shift();output=instance[method].apply(instance,args)}});return output===undefined?this:output}})(jQuery,window,document);(function($,window,document,undefined){"use strict";var pluginName="tipi",defaults={text:"Hello, World!",margin:3};function Plugin(element,options){this.$el=$(element);this.settings=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this.init()}Plugin.prototype={init:function(){this.$tip=$('<div class="tipi" />').text(this.settings.text);$("body").append(this.$tip);return this.$el},text:function(val){if(!val){return this.settings.text}this.$tip.text(val);this.settings.text=val;return this.$el},show:function(){this.$tip.css({top:this.$el.offset().top-this.$tip.outerHeight()-this.settings.margin,left:this.$el.offset().left});this.$tip.show();return this.$el},hide:function(){this.$tip.hide();return this.$el},center:function(){this.$tip.css({left:this.$el.offset().left+this.$el.width()/2-this.$tip.width()/2})}};$.fn[pluginName]=function(options){var args=Array.prototype.slice.call(arguments);this.each(function(){var instance=$.data(this,"plugin_"+pluginName),method;if(!instance){$.data(this,"plugin_"+pluginName,new Plugin(this,options))}else{method=args.shift();return instance[method].apply(instance,args)}});return this}})(jQuery,window,document);